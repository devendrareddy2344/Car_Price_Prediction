<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Price Prediction - AI Powered</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Inter', 'Segoe UI', system-ui, sans-serif; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; position: relative; overflow-x: hidden;">
    
    <!-- Animated Background Elements -->
    <div style="position: absolute; width: 100%; height: 100%; overflow: hidden; z-index: 0;">
        <div style="position: absolute; width: 300px; height: 300px; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); border-radius: 50%; top: -150px; left: -150px; animation: float 20s ease-in-out infinite;"></div>
        <div style="position: absolute; width: 400px; height: 400px; background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%); border-radius: 50%; bottom: -200px; right: -200px; animation: float 25s ease-in-out infinite reverse;"></div>
        <div style="position: absolute; width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,255,255,0.06) 0%, transparent 70%); border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: pulse 15s ease-in-out infinite;"></div>
    </div>

    <div style="background: rgba(255, 255, 255, 0.98); border-radius: 24px; box-shadow: 0 25px 80px rgba(0, 0, 0, 0.35), 0 0 0 1px rgba(255,255,255,0.1) inset; max-width: 550px; width: 100%; padding: 50px 45px; backdrop-filter: blur(20px); position: relative; z-index: 1; animation: slideUp 0.6s ease-out;">
        
        <!-- Header Section -->
        <div style="text-align: center; margin-bottom: 40px; position: relative;">
            <!-- Icon Container with Gradient -->
            <div style="display: inline-flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 90px; height: 90px; border-radius: 24px; margin-bottom: 20px; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); position: relative; overflow: hidden;">
                <div style="position: absolute; width: 100%; height: 100%; background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.2) 50%, transparent 70%); animation: shine 3s infinite;"></div>
                <svg style="width: 50px; height: 50px; fill: white; position: relative; z-index: 1;" viewBox="0 0 24 24">
                    <path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>
                </svg>
            </div>
            
            <h1 style="margin: 0; color: #1a1a2e; font-size: 32px; font-weight: 800; letter-spacing: -0.5px;">Car Price Predictor</h1>
            <p style="margin: 10px 0 0 0; color: #64748b; font-size: 15px; font-weight: 500;">Powered by Machine Learning • Get instant predictions</p>
            
            <!-- Decorative Line -->
            <div style="margin: 25px auto 0; width: 60px; height: 4px; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 2px;"></div>
        </div>

        <form id="predictForm" style="display: flex; flex-direction: column; gap: 24px;">
            
            <!-- Year Input -->
            <div style="position: relative;">
                <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">
                    <span style="display: flex; align-items: center; gap: 6px;">
                        <svg style="width: 16px; height: 16px; fill: #667eea;" viewBox="0 0 24 24">
                            <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                        </svg>
                        Year
                    </span>
                </label>
                <input type="number" name="year" value="2015" required 
                    style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; box-sizing: border-box; font-weight: 500; color: #1e293b;"
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white';"
                    onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc';"
                    placeholder="e.g., 2020">
            </div>

            <!-- Present Price Input -->
            <div style="position: relative;">
                <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">
                    <span style="display: flex; align-items: center; gap: 6px;">
                        <svg style="width: 16px; height: 16px; fill: #667eea;" viewBox="0 0 24 24">
                            <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                        </svg>
                        Present Price (Lakhs)
                    </span>
                </label>
                <input type="number" step="0.01" name="present_price" value="5.59" required 
                    style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; box-sizing: border-box; font-weight: 500; color: #1e293b;"
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white';"
                    onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc';"
                    placeholder="e.g., 5.50">
            </div>

            <!-- Kilometers Driven Input -->
            <div style="position: relative;">
                <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">
                    <span style="display: flex; align-items: center; gap: 6px;">
                        <svg style="width: 16px; height: 16px; fill: #667eea;" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                        </svg>
                        Kilometers Driven
                    </span>
                </label>
                <input type="number" name="kms_driven" value="27000" required 
                    style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; box-sizing: border-box; font-weight: 500; color: #1e293b;"
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white';"
                    onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc';"
                    placeholder="e.g., 45000">
            </div>

            <!-- Two Column Layout for Selects -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <!-- Fuel Type -->
                <div>
                    <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">Fuel Type</label>
                    <select name="fuel_type" required 
                        style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; cursor: pointer; box-sizing: border-box; font-weight: 500; color: #1e293b; appearance: none; background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-repeat: no-repeat; background-position: right 14px center; background-size: 20px; padding-right: 45px;"
                        onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';"
                        onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';">
                        <option value="Petrol">Petrol</option>
                        <option value="Diesel">Diesel</option>
                        <option value="CNG">CNG</option>
                    </select>
                </div>

                <!-- Seller Type -->
                <div>
                    <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">Seller Type</label>
                    <select name="seller_type" required 
                        style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; cursor: pointer; box-sizing: border-box; font-weight: 500; color: #1e293b; appearance: none; background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-repeat: no-repeat; background-position: right 14px center; background-size: 20px; padding-right: 45px;"
                        onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';"
                        onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';">
                        <option value="Dealer">Dealer</option>
                        <option value="Individual">Individual</option>
                    </select>
                </div>
            </div>

            <!-- Transmission -->
            <div style="position: relative;">
                <label style="display: block; margin-bottom: 10px; color: #1e293b; font-weight: 600; font-size: 14px; letter-spacing: 0.3px;">
                    <span style="display: flex; align-items: center; gap: 6px;">
                        <svg style="width: 16px; height: 16px; fill: #667eea;" viewBox="0 0 24 24">
                            <path d="M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z"/>
                        </svg>
                        Transmission
                    </span>
                </label>
                <select name="transmission" required 
                    style="width: 100%; padding: 14px 18px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 15px; transition: all 0.3s; outline: none; background: #f8fafc; cursor: pointer; box-sizing: border-box; font-weight: 500; color: #1e293b; appearance: none; background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-repeat: no-repeat; background-position: right 14px center; background-size: 20px; padding-right: 45px;"
                    onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 4px rgba(102, 126, 234, 0.1)'; this.style.background='white url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';"
                    onblur="this.style.borderColor='#e2e8f0'; this.style.boxShadow='none'; this.style.background='#f8fafc url(data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%23667eea%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e) no-repeat right 14px center / 20px';">
                    <option value="Manual">Manual</option>
                    <option value="Automatic">Automatic</option>
                </select>
            </div>

            <!-- Submit Button -->
            <button type="submit" id="predictBtn"
                style="padding: 16px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 12px; font-size: 17px; font-weight: 700; cursor: pointer; transition: all 0.3s; margin-top: 8px; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); letter-spacing: 0.5px; text-transform: uppercase; position: relative; overflow: hidden;"
                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 28px rgba(102, 126, 234, 0.5)';"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.4)';">
                <span style="position: relative; z-index: 1;">Get Price Prediction</span>
            </button>
        </form>

        <!-- Loading State -->
        <div id="loading" style="display: none; text-align: center; margin-top: 30px;">
            <div style="display: inline-block; width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite;"></div>
            <p style="margin-top: 15px; color: #667eea; font-weight: 600; font-size: 15px;">Analyzing your car details...</p>
        </div>

        <!-- Result Section -->
        <div id="result" style="margin-top: 30px; padding: 28px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.08) 0%, rgba(118, 75, 162, 0.08) 100%); border-radius: 16px; display: none; text-align: center; border: 2px solid rgba(102, 126, 234, 0.2); position: relative; overflow: hidden;">
            <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #667eea, #764ba2);"></div>
            <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 12px;">
                <svg style="width: 24px; height: 24px; fill: #667eea;" viewBox="0 0 24 24">
                    <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
                </svg>
                <p style="margin: 0; color: #667eea; font-weight: 700; font-size: 16px; letter-spacing: 0.5px; text-transform: uppercase;">Predicted Price</p>
            </div>
            <p id="priceValue" style="margin: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 44px; font-weight: 800; letter-spacing: -1px;">₹ 0.00 Lakhs</p>
            <p style="margin: 15px 0 0 0; color: #64748b; font-size: 13px; font-weight: 500;">This is an AI-generated estimate based on market trends</p>
        </div>

        <!-- Error Section -->
        <div id="error" style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); border-radius: 16px; display: none; text-align: center; border: 2px solid #f87171;">
            <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 8px;">
                <svg style="width: 22px; height: 22px; fill: #dc2626;" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                </svg>
                <p style="margin: 0; color: #dc2626; font-weight: 700; font-size: 15px;">Error</p>
            </div>
            <p id="errorMessage" style="margin: 0; color: #991b1b; font-weight: 500; font-size: 14px;">An error occurred. Please try again.</p>
        </div>
    </div>

    <style>
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-30px); }
        }
        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.8; }
        }
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 200%; }
        }
        
        @media (max-width: 600px) {
            body > div { padding: 35px 25px !important; }
            h1 { font-size: 26px !important; }
            #priceValue { font-size: 36px !important; }
        }
    </style>

    <script>
        const form = document.getElementById('predictForm');
        const result = document.getElementById('result');
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const predictBtn = document.getElementById('predictBtn');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Hide previous results
            result.style.display = 'none';
            error.style.display = 'none';
            loading.style.display = 'block';
            predictBtn.disabled = true;
            predictBtn.style.opacity = '0.6';
            predictBtn.style.cursor = 'not-allowed';
            
            const formData = new FormData(form);
            const payload = {
                year: Number(formData.get('year')),
                present_price: Number(formData.get('present_price')),
                kms_driven: Number(formData.get('kms_driven')),
                fuel_type: formData.get('fuel_type'),
                seller_type: formData.get('seller_type'),
                transmission: formData.get('transmission')
            };
            
            try {
                const res = await fetch('/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                const json = await res.json();
                
                loading.style.display = 'none';
                predictBtn.disabled = false;

                if (json.success) {
                    result.style.display = 'block';
                    document.getElementById('priceValue').innerText = json.predicted_price;
                } else {
                    error.style.display = 'block';
                    document.getElementById('errorMessage').innerText = json.error;
                }
            } catch (error) {
                loading.style.display = 'none';
                predictBtn.disabled = false;
                error.style.display = 'block';
                document.getElementById('errorMessage').innerText = 'An unexpected error occurred.';
            }
        });
    </script>
</body>
</html>